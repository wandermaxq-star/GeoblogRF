# TestReaDMe ‚Äî –ë—ã—Å—Ç—Ä–∞—è —Å–≤–æ–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ‚ö†Ô∏è

> –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ `frontend/` —Å –ø–æ–º–µ—Ç–∫–∞–º–∏ "—Å–¥–µ–ª–∞–Ω–æ/–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ/–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å" –∏ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

---

## üîé –û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **–¶–µ–ª—å:** –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –∫–∞—Ä—Ç–∞–º–∏, –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –¥–ª—è –ø–æ—Å—Ç–∏–Ω–≥–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
- **–ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã/—Ñ–∏—á–∏ `Book`, `Blog`, `Chat` **—É–¥–∞–ª–µ–Ω—ã** –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã/—à–∞–±–ª–æ–Ω—ã —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å. ‚úÖ (—É–¥–∞–ª–µ–Ω–æ)

---

## üß© –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- [x] –ü–æ—Å—Ç—ã (Posts) ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —á–µ—Ä–Ω–æ–≤–∏–∫–∏
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `storageService` –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤.

- [x] –ö–∞—Ä—Ç—ã & Map Facade ‚Äî –µ–¥–∏–Ω—ã–π —Ñ–∞—Å–∞–¥, –∞–¥–∞–ø—Ç–µ—Ä—ã (Yandex, Leaflet)
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: canonical –≤ `src/services/map_facade/`. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ä–µ-—ç–∫—Å–ø–æ—Ä—Ç—ã –≤ `mapFacade/`.

- [x] –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ / GPS Tracks (MVP) ‚Äî –∑–∞–ø–∏—Å—å, –æ—Ñ–ª–∞–π–Ω, —ç–∫—Å–ø–æ—Ä—Ç (GPX/KML/GeoJSON)
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: —ç–∫—Å–ø–æ—Ä—Ç/—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –≤ `src/services/routeExporters/`.

- [x] –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º & –û—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∫–∏ ‚Äî IndexedDB, retry, backoff
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: `storageService` –∏ `offlineContentQueue` –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–µ–π—Å—ã; —É–±–µ–¥–∏—Ç—å—Å—è –≤ QA –¥–ª—è edge-cases.

- [x] –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è (XP, —É—Ä–æ–≤–Ω–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: `gamificationFacade.ts` + `xpService` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤.

- [x] –ú–æ–¥–µ—Ä–∞—Ü–∏—è ‚Äî AI-—Ñ–∏–ª—å—Ç—Ä—ã, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: UI –≤ `components/Admin/*`, –º–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π + –∏—Å—Ç–æ—Ä–∏—è. –î–æ–±–∞–≤–∏—Ç—å –≥–µ–æ-–≤–∞–ª–∏–¥–∞—Ü–∏—é (in progress note).

- [x] –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Äî DAU, –ø–æ–≤–µ–¥–µ–Ω–∏–µ, performance
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: `analyticsOrchestrator` –¥–µ–ª–∞–µ—Ç –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã; –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Do Not Track –∏ –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—é.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Stack:** React 18 + TypeScript + Vite + Tailwind
- **Map providers:** Yandex (–æ—Å–Ω–æ–≤–Ω–æ–π), Leaflet
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** `storageService` (localStorage-like) + `indexedDBService` (routes, favorites)
- **Lazy-loading:** `src/components/LazyComponents.tsx` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é (MVP 1.0)
- [x] –ü–æ—Å—Ç—ã, –æ—Ñ–ª–∞–π–Ω, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫, PWA, –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è, –º–æ–¥–µ—Ä–∞—Ü–∏—è, Map Facade, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ —Ö–æ—Ä–æ—à–µ–µ, —Ç–µ—Å—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ (–ø—Ä–∏–º–µ—Ä–Ω–æ 36 —Ç–µ—Å—Ç–æ–≤), `npm test` –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ.

---

## üöß –í —Ä–∞–±–æ—Ç–µ / –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (MVP 2.0 –∏ —É–ª—É—á—à–µ–Ω–∏—è)
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è (–≥–µ–æ-–≤–∞–ª–∏–¥–∞—Ü–∏—è, –∂–∞–ª–æ–±—ã) ‚Äî **–Ω—É–∂–Ω–æ**: –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ UI –¥–ª—è –∂–∞–ª–æ–±. ‚ö†Ô∏è
- [ ] –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ‚Äî **–ø–ª–∞–Ω**: –æ—Ü–µ–Ω–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –∏ UX (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∏–∂–µ). üü°
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Äî **–ø–ª–∞–Ω**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å –≤–æ—Ä–∫–µ—Ä—ã / backend. üü°
- [ ] Book/Blog/Chat ‚Äî **—É–¥–∞–ª–µ–Ω–æ**, –Ω–æ –≤ docs –æ—Å—Ç–∞–ª–∏—Å—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚Äî **–Ω—É–∂–Ω–æ**: —É–¥–∞–ª–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ —Å—Å—ã–ª–∫–∏. ‚úÖ‚ûï(docs cleanup)

---

## üîÅ API –∏ –±—ç–∫–µ–Ω–¥ (–∫—Ä–∞—Ç–∫–æ)
- REST endpoints:
  - `POST /api/routes` ‚Äî create route
  - `GET /api/users/:id/routes` ‚Äî list
  - `POST /api/routes/:id/export?format=gpx|kml|geojson`
  - `POST /api/gamification/xp` ‚Äî –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–ø–∏—Å–æ–∫ (AdminSubscriptions) –∏ –º–∞—Ä—à—Ä—É—Ç `/admin/subscriptions`. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—ç–∫–µ–Ω–¥-—ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/admin/subscriptions` –∏ –º–æ–¥–µ–ª—å `UserSubscription` (Prisma) ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è.

---

## ‚úÖ –¢–µ—Å—Ç—ã –∏ QA
- [x] Unit + Integration –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤, offline-queue, backoff
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: `vitest` –Ω–∞—Å—Ç—Ä–æ–µ–Ω, `tests/setupTests.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç browser shims.

---

## ÔøΩ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–æ)

```
frontend/
‚îú‚îÄ‚îÄ public/                 # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ images/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ markers/            # –ò–∫–æ–Ω–∫–∏ –º–∞—Ä–∫–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ manifest.json       # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/                # API –∫–ª–∏–µ–Ω—Ç—ã –∏ –æ–±—ë—Ä—Ç–∫–∏ (apiClient, routesApi...)
‚îÇ   ‚îú‚îÄ‚îÄ analytics/          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, —Å–µ—Ä–≤–∏—Å—ã –∏ –¥–∞—à–±–æ—Ä–¥—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ assets/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã (Lottie, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ components/         # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Admin/          # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Gamification/   # –í–∏–¥–∂–µ—Ç—ã —É—Ä–æ–≤–Ω–µ–π, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è XP ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Map/            # Map, MapActionButtons, MarkerPopup ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Posts/          # PostConstructor, PostCard, OfflineDraftsPanel ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Planner/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∏ UI –º–∞—Ä—à—Ä—É—Ç–æ–≤ ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TravelCalendar/ # Calendar & CircularCalendar ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Moderation/     # ContentModerator, ModerationPanel ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Profile/        # ProfilePanel, ProfilePage ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Chat/           # (DEPRECATED) UI –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø–æ–º–µ—Ç–∏—Ç—å –∫ —É–¥–∞–ª–µ–Ω–∏—é ‚ö†Ô∏è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...             # —Ä–µ–∞–ª—å–Ω–∞—è FS ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ config/             # —Ñ–ª–∞–≥–∏, –∫–ª—é—á–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ contexts/           # Auth, Gamification, Theme, RoutePlanner
‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # useAchievements, useModeration, usePreload
‚îÇ   ‚îú‚îÄ‚îÄ layouts/            # MainLayout, MobileLayout
‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Map.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Planner.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Posts.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfileRoutes.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminSubscriptionsPage.tsx ‚úÖ (–Ω–æ–≤–∞—è)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ModerationPage.tsx
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storageService.ts        # key/value + indexedDB (in-memory fallback) ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ offlineContentQueue.ts   # –æ—á–µ—Ä–µ–¥—å —Å backoff ‚úÖ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routeExporters/          # —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã GPX/KML/GeoJSON ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map_facade/              # canonical facade + adapters ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ routes.tsx          # –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (AppRoutes)
‚îú‚îÄ‚îÄ docs/                   # Handover –∏ API spec (GPS_TRACKS_HANDOVER.md, GAMIFICATION_API.md)
‚îú‚îÄ‚îÄ tests/                  # Unit + integration (vitest)
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ vite.config.ts
```

–ö–æ—Ä–æ—Ç–∫–∏–µ –º–µ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
- [x] –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (Posts, Map, Offline queue, Map Facade, Gamification, Analytics) ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] Admin subscriptions page ‚Äî –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `src/pages/AdminSubscriptionsPage.tsx` –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–æ–º
- [ ] Chat / Blog / Book ‚Äî **–ø–æ–º–µ—Ç–∏—Ç—å –≤ –¥–æ–∫–∞—Ö –∫–∞–∫ DEPRECATED –∏ —É–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è**

–ú–∏–Ω–∏-–¥–µ–π—Å—Ç–≤–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏):
- [High] –ü—Ä–æ–π—Ç–∏ –ø–æ `docs/` –∏ `README.md`, —É–±—Ä–∞—Ç—å –∏–ª–∏ –ø–æ–º–µ—Ç–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö —Ñ–∏—á (`Blog/Book/Chat`).
- [Medium] –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è `AdminSubscriptionsPage` –∏ E2E-—Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ -> –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP -> –º–æ–¥–µ—Ä–∞—Ü–∏—è.
- [Low] –°–æ–∑–¥–∞—Ç—å `frontend/docs/GEO_ROUTES_API.md` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ payload/response –∏ –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫.

---

## üß≠ –ë—ã—Å—Ç—Ä—ã–π —Å–ø–∏—Å–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π / —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)
1. [High] –£–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `Blog`/`Book`/`Chat` –∏–∑ `README.md`, `docs/` –∏ `LazyComponents`. ‚úÖ (—á–∞—Å—Ç–∏—á–Ω–æ —Å–¥–µ–ª–∞–Ω–æ) 
2. [High] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å backend endpoint `/api/admin/subscriptions` –∏ –º–æ–¥–µ–ª—å `UserSubscription`. [ ]
3. [Medium] –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è `AdminSubscriptionsPage` (renders, API failures). [ ]
4. [Medium] –î–æ–±–∞–≤–∏—Ç—å E2E —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ -> –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP -> –º–æ–¥–µ—Ä–∞—Ü–∏—è. [ ]
5. [Low] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã API payload/response –≤ `frontend/docs/GEO_ROUTES_API.md` (create). [ ]
6. [Low] –†–µ–≤—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: rate-limits –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ / –¥–µ–¥—É–ø. [ ]

---

## üìå –ú–∏–Ω–∏-–ø—Ä–∏–º–µ—á–∞–Ω–∏—è (–∫–æ—Ä–æ—Ç–∫–æ)
- –î–æ–∫—É–º–µ–Ω—Ç `frontend/README.md` –æ–±–Ω–æ–≤–ª—ë–Ω: –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç AdminSubscriptions –≤—ã–Ω–µ—Å–µ–Ω –≤ —Ñ–∞–π–ª (—Å–º. `src/pages/AdminSubscriptionsPage.tsx`).
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ ‚Äî –º–æ–≥—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ snippet'—ã –≤ `docs/` –∏ `LazyComponents.tsx`.

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ø—Ä–µ–¥–ª–∞–≥–∞—é)
- –ì–æ—Ç–æ–≤–ª—é PR —Å —á–∏—Å—Ç–∫–æ–π docs (—É–¥–∞–ª—é —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `Blog/Book/Chat` –∏ –¥–æ–±–∞–≤–ª—é TODOs). ‚úÖ –ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å, —Å–¥–µ–ª–∞—é —Å—Ä–∞–∑—É.
- –î–æ–±–∞–≤–ª—é —Ç–µ—Å—Ç—ã –¥–ª—è `AdminSubscriptionsPage` –∏ –æ–±–Ω–æ–≤–ª—é `GEO_ROUTES_API.md` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ payload/response –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞.

---

*–§–∞–π–ª —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ –∫—Ä–∞—Ç–∫–∏–π —Ä–∞–±–æ—á–∏–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Ä–µ–≤—å—é –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.*

---

## ‚ùå –§—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º README.md, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ/–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ (–∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã)

> –ù–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ä–∞–∑–¥–µ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—è–≤–ª–µ–Ω—ã –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º README.md, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ, –ª–∏–±–æ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã/–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç (—Ñ–µ–≤—Ä–∞–ª—å 2026):

- **Book / Blog / Chat** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω—ã –∏–∑ –∫–æ–¥–∞, –Ω–æ –º–æ–≥—É—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–∫–∞ docs –∏ –∫–æ–¥–∞.
- **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** ‚Äî –∑–∞—è–≤–ª–µ–Ω–∞ –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä—É–µ–º–∞—è, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–¥–µ –∏ API. –ù–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
- **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ README –∏ –ø–ª–∞–Ω–∞—Ö, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∫–æ–¥–µ (–Ω–µ—Ç —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä–æ–≤, –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend push API, –Ω–µ—Ç UI).
- **–õ–∞–π–∫–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏** ‚Äî –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∫–æ–¥–µ (–Ω–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å–µ—Ä–≤–∏—Å–æ–≤, API –¥–ª—è –ª–∞–π–∫–æ–≤/—Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ—Å—Ç–æ–≤/–º–µ—Ç–æ–∫).
- **OpenTopoMap** ‚Äî –∑–∞—è–≤–ª–µ–Ω –∫–∞–∫ —Å–ª–æ–π –∫–∞—Ä—Ç—ã, –Ω–æ –≤ –∫–æ–¥–µ –Ω–µ—Ç –∞–¥–∞–ø—Ç–µ—Ä–∞/—Å–ª–æ—è –¥–ª—è OpenTopoMap (—Ç–æ–ª—å–∫–æ Yandex –∏ Leaflet).
- **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native)** ‚Äî —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –∫–∞–∫ –ø–ª–∞–Ω, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ü—Å–µ—Ç—è–º–∏** ‚Äî –Ω–µ—Ç –∫–æ–¥–∞ –¥–ª—è OAuth, —à–∞—Ä–∏–Ω–≥–∞, –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Å–æ—Ü—Å–µ—Ç–∏.
- **AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** ‚Äî –Ω–µ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –±–∞–∑–µ ML/AI.
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** ‚Äî –Ω–µ—Ç i18n, –ø–µ—Ä–µ–≤–æ–¥–æ–≤, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —è–∑—ã–∫–æ–≤.
- **API –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** ‚Äî –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø—É–±–ª–∏—á–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏/—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.
- **E2E-—Ç–µ—Å—Ç—ã** ‚Äî –∑–∞—è–≤–ª–µ–Ω—ã –≤ –ø–ª–∞–Ω–∞—Ö, –Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ç–æ–ª—å–∫–æ unit/integration —Ç–µ—Å—Ç—ã, –Ω–µ—Ç e2e-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ GEO_ROUTES_API.md** ‚Äî —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞–º–∏ payload/response, –∫–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫.

### –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –∞–Ω—Ç–∏–Ω–∞–∫—Ä—É—Ç–∫–∞
- –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ª–∞–π–∫–∞–º–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏, –±–ª–æ–≥–∞–º–∏, —á–∞—Ç–∞–º–∏, –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é ‚Äî —ç—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–∞–∫—Ä—É—Ç–∫–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ XP. –¢–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ø–æ—Å—Ç—ã, –º–µ—Ç–∫–∏, —Å–æ–±—ã—Ç–∏—è, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–ª–∏, —Å—Ç—Ä–∏–∫), –≤–ª–∏—è—é—Ç –Ω–∞ XP –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –í—Å–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —á–∞—Ç—ã, –±–ª–æ–≥–∏) –Ω–µ –¥–∞—é—Ç XP –∏ –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–∞–≥—Ä–∞–¥.

### GPS-—Ç—Ä–µ–∫–∏ (–º–∞—Ä—à—Ä—É—Ç—ã)
- –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ GPS-—Ç—Ä–µ–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞: –∑–∞–ø–∏—Å—å, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç (GPX/KML/GeoJSON), –æ—Ñ–ª–∞–π–Ω-–æ—á–µ—Ä–µ–¥—å, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞. –ù–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π: –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —á–µ–ª–ª–µ–Ω–¥–∂–µ–π, –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –∑–∞ –¥–ª–∏–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –Ω–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ —Ç—Ä–µ–∫–∞–º, –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω—ã—Ö –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏.

---

## üì¶ IndexedDB ‚Äî –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ **IndexedDB –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω** –≤ `src/services/storageService.ts` (–∫–ª–∞—Å—Å `StorageService`)
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (favorites)** ‚Äî CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –º–µ—Å—Ç, –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ localStorage** ‚Äî –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ùå **–ú–∞—Ä—à—Ä—É—Ç—ã** ‚Äî –º–µ—Ç–æ–¥—ã `getRoutes()`, `saveRoute()`, `deleteRoute()` ‚Äî –ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∏ (stub)
- ‚ùå **–ü–æ—Å—Ç—ã (—á–µ—Ä–Ω–æ–≤–∏–∫–∏)** ‚Äî –Ω–µ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ IndexedDB, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è localStorage –Ω–∞–ø—Ä—è–º—É—é
- ‚ùå **–°–æ–±—ã—Ç–∏—è (—á–µ—Ä–Ω–æ–≤–∏–∫–∏)** ‚Äî –Ω–µ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ IndexedDB
- ‚ùå **–ú–µ—Ç–∫–∏ (—á–µ—Ä–Ω–æ–≤–∏–∫–∏)** ‚Äî –Ω–µ—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ IndexedDB
- ‚ùå **–û—Ñ–ª–∞–π–Ω-–æ—á–µ—Ä–µ–¥—å** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IndexedDB, —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏

### –¢—Ä–µ–±—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞)

#### 1. **–ü–æ—Å—Ç—ã –≤ –æ—Ñ–ª–∞–π–Ω–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ –ø–æ—Å—Ç–æ–≤ –≤ IndexedDB —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (—Ç–µ–∫—Å—Ç, —Ñ–æ—Ç–æ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ç–µ–≥–∏)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å—Ç–∞ (draft, queued, published, failed)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –¥–∞—Ç–µ
- –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: createdAt, updatedAt, uploadAttempts, lastError

#### 2. **–ú–∞—Ä—à—Ä—É—Ç—ã –≤ –æ—Ñ–ª–∞–π–Ω–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (GPS-—Ç—Ä–µ–∫–∏) –≤ IndexedDB —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç—Ä–µ–∫–∞ (lat, lon, alt, timestamp)
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, –≤—Ä–µ–º—è, –∫–∞—Ç–µ–≥–æ—Ä–∏—è)
  - –°—Ç–∞—Ç—É—Å (draft, queued, published, rejected, failed)
  - clientId –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
- –°–ø–∏—Å–æ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –£–¥–∞–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ (–¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
- –ò—Å—Ç–æ—Ä–∏—è –æ—à–∏–±–æ–∫ –∏ –ø–æ–ø—ã—Ç–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

#### 3. **–°–æ–±—ã—Ç–∏—è –≤ –æ—Ñ–ª–∞–π–Ω–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤ IndexedDB
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –±–ª–æ–∫–∏ (–∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –≥–¥–µ –ø–æ–µ—Å—Ç—å, —á—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å)
- –°—Ç–∞—Ç—É—Å—ã –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

#### 4. **–ú–µ—Ç–∫–∏ –≤ –æ—Ñ–ª–∞–π–Ω–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –º–µ—Ç–æ–∫ (–º–µ—Å—Ç) –≤ IndexedDB
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- –°–≤—è–∑—å —Å –ø–æ—Å—Ç–∞–º–∏

#### 5. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**
- –ï–¥–∏–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ø–æ—Å—Ç—ã, –º–∞—Ä—à—Ä—É—Ç—ã, —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç–∫–∏)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –†–µ—Ç—Ä–∞–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- –û–±—Ä–∞–±–æ—Ç–∫–∞ 5xx –æ—à–∏–±–æ–∫ –∫–∞–∫ —Ä–µ—Ç—Ä–∞–∏–±–µ–ª—å–Ω—ã—Ö
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ clientId –∏ Idempotency-Key

#### 6. **–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ UI —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤—ã–±—Ä–∞–Ω–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã, –∑—É–º –∫–∞—Ä—Ç—ã, –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–†–∞—Å—à–∏—Ä–∏—Ç—å StorageService** (storageService.ts):
   - –î–æ–±–∞–≤–∏—Ç—å ObjectStore –¥–ª—è `posts` (–ø–æ—Å—Ç—ã/—á–µ—Ä–Ω–æ–≤–∏–∫–∏)
   - –î–æ–±–∞–≤–∏—Ç—å ObjectStore –¥–ª—è `routes` (–º–∞—Ä—à—Ä—É—Ç—ã/GPS-—Ç—Ä–µ–∫–∏)
   - –î–æ–±–∞–≤–∏—Ç—å ObjectStore –¥–ª—è `events` (—Å–æ–±—ã—Ç–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è)
   - –î–æ–±–∞–≤–∏—Ç—å ObjectStore –¥–ª—è `markers` (–º–µ—Ç–∫–∏/–º–µ—Å—Ç–∞)
   - –î–æ–±–∞–≤–∏—Ç—å ObjectStore –¥–ª—è `syncQueue` (–æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã CRUD –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å OfflineContentStorage** (—É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏):
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–∂–¥—ã–º —Ç–∏–ø–æ–º
   - –û–±–µ—Å–ø–µ—á–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∏–∑ localStorage –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

3. **–£–ª—É—á—à–∏—Ç—å OfflineContentQueue** (offlineContentQueue.ts):
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IndexedDB –≤–º–µ—Å—Ç–æ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
   - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏ –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏
   - –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Ä–µ—Ç—Ä–∞–µ–≤

4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ—Ö –æ—á–µ—Ä–µ–¥–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ IndexedDB
   - –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ø—ã—Ç–æ–∫

5. **UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞–º–∏**:
   - OfflineDraftsPanel ‚Äî —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ (–ø–æ—Å—Ç—ã, –º–∞—Ä—à—Ä—É—Ç—ã, —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç–∫–∏)
   - –î–æ—Å—Ç—É–ø –∫ —á–µ—Ä–Ω–æ–≤–∏–∫–∞–º –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ IndexedDB (—Ü–µ–ª–µ–≤–∞—è)

```
Database: geoblog_storage_v1
‚îú‚îÄ‚îÄ favorites (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ)
‚îú‚îÄ‚îÄ posts (—á–µ—Ä–Ω–æ–≤–∏–∫–∏) ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
‚îú‚îÄ‚îÄ routes (–º–∞—Ä—à—Ä—É—Ç—ã/GPS-—Ç—Ä–µ–∫–∏) ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
‚îú‚îÄ‚îÄ events (—Å–æ–±—ã—Ç–∏—è) ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
‚îú‚îÄ‚îÄ markers (–º–µ—Ç–∫–∏/–º–µ—Å—Ç–∞) ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
‚îî‚îÄ‚îÄ syncQueue (–æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏) ‚Äî —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ö–∞–∂–¥—ã–π ObjectStore –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- id (primary key)
- status (draft|queued|published|failed|rejected)
- createdAt, updatedAt (timestamps)
- uploadAttempts (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫)
- lastError (–ø–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞)
- clientId (–¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
- data (–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏)
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- **–ü–æ—Å—Ç—ã**: —á–µ—Ä–Ω–æ–≤–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- **–ú–∞—Ä—à—Ä—É—Ç—ã (GPS-—Ç—Ä–µ–∫–∏)**: –∑–∞–ø–∏—Å—å —Ç—Ä–µ–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ IndexedDB ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **–°–æ–±—ã—Ç–∏—è**: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ IndexedDB ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **–ú–µ—Ç–∫–∏**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ IndexedDB ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è**: XP –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —á–µ—Ä–Ω–æ–≤–∏–∫), —Ç–∞–∫ –∏ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (—É—Å–ø–µ—à–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)
1. [High] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è CRUD –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ IndexedDB
2. [High] –ú–∏–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∏–∑ localStorage –≤ IndexedDB
3. [Medium] –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è OfflineContentQueue —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é
4. [Medium] UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
5. [Low] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
6. [Low] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∏–Ω–¥–µ–∫—Å—ã, –ø–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)

---

## üó∫Ô∏è –û—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç–∞ —Å –Ω–∞—Ä–µ–∑–∞–Ω–Ω—ã–º–∏ —Ç–∞–π–ª–∞–º–∏ (VIP —Ñ—É–Ω–∫—Ü–∏—è)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–∞–π–ª—ã –∫–∞—Ä—Ç—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ Leaflet + OpenStreetMap/Yandex) –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –¥–ª—è –ø–æ–ª–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ä—Ç–æ–π –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –≠—Ç–æ –ø—Ä–µ–º–∏—É–º-—Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–æ–≤** ‚Äî `downloadRegion()`, `deleteRegion()`, `getDownloadedRegions()` –≤ `MapContextFacade`
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞** ‚Äî throw `'Region download is premium-only'`
- ‚úÖ **–ê–¥–∞–ø—Ç–µ—Ä OfflineOSMRenderer** ‚Äî –µ—Å—Ç—å –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—Ñ–ª–∞–π–Ω OSM –∫–∞—Ä—Ç–æ–π
- ‚úÖ **offlineService.ts** ‚Äî —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–µ—Ä–≤–∏—Å —Å –ø–æ–ª–µ–º `mapTiles` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚ùå **–†–µ–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∞–π–ª–æ–≤** ‚Äî –∑–∞–≥–ª—É—à–∫–∏ –≤ storageService, –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå **UI –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤** ‚Äî –Ω–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤
- ‚ùå **API backend** ‚Äî –Ω–µ—Ç endpoint'–æ–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ç–∞–π–ª–æ–≤
- ‚ùå **–ú–µ—Ö–∞–Ω–∏–∫–∞ –Ω–∞—Ä–µ–∑–∫–∏ —Ç–∞–π–ª–æ–≤** ‚Äî –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –Ω–∞—Ä–µ–∑–∫–∏ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑—É–º–∞

### –¢—Ä–µ–±—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### 1. **–°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–≥–∏–æ–Ω—ã –†–æ—Å—Å–∏–∏ (—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –æ–∫—Ä—É–≥–∞, –∫—Ä—É–ø–Ω—ã–µ –≥–æ—Ä–æ–¥–∞, –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å bounding box –∏ —Ç—Ä–µ–±—É–µ–º—ã–µ —É—Ä–æ–≤–Ω–∏ –∑—É–º–∞ (13-16)
- –•—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä –≤ –ú–ë, –¥–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤–µ—Ä—Å–∏—è —Ç–∞–π–ª–æ–≤)

#### 2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–π–ª–æ–≤**
- API endpoint: `GET /api/tiles/{regionId}/{z}/{x}/{y}.png` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–π–ª –∏–ª–∏ –∞—Ä—Ö–∏–≤
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ç–∞–π–ª—ã –≤ batches (–ø–æ –Ω–µ—Å–∫–æ–ª—å–∫—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º bandwidth)
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–ª—ã –≤ IndexedDB —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π ObjectStore `mapTiles`
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (–∫–æ–ª-–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ç–∞–π–ª–æ–≤, % –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å resume –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

#### 3. **–•—Ä–∞–Ω–∏–ª–∏—â–µ –≤ IndexedDB**
- ObjectStore `mapTiles` —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
  - key: `{regionId}_{z}_{x}_{y}` (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∞–π–ª–∞)
  - value: { blob (PNG/WebP), z, x, y, regionId, downloadedAt }
- ObjectStore `downloadedRegions` —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:
  - regionId, name, boundingBox, status (downloading|completed|failed), progress, size, downloadedAt

#### 4. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –æ—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç—É**
- –ö–æ–≥–¥–∞ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `OfflineOSMRenderer`
- Loader –¥–ª—è —Ç–∞–π–ª–æ–≤ –≤–º–µ—Å—Ç–æ online URL: –ø—Ä–æ–≤–µ—Ä—è—Ç—å IndexedDB –ø–µ—Ä–µ–¥ HTTP –∑–∞–ø—Ä–æ—Å–æ–º
- Fallback: –µ—Å–ª–∏ —Ç–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å placeholder –∏–ª–∏ —Å–µ—Ä—É—é –∫–ª–µ—Ç–∫—É

#### 5. **UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–∞–º–∏**
- **–≠–∫—Ä–∞–Ω "–û—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç—ã"** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ä—Ç—ã –∏–ª–∏ –≤ Settings:
  - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏, –≤–µ—Ä—Å–∏—è–º–∏, —Å—Ç–∞—Ç—É—Å–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
  - –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è VIP)
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –∑–∞–≥—Ä—É–∂–∞—é—â–∏—Ö—Å—è —Ä–µ–≥–∏–æ–Ω–æ–≤
  - –ö–Ω–æ–ø–∫–∞ "–£–¥–∞–ª–∏—Ç—å" –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ (–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –º–µ—Å—Ç–∞)
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–∏–µ —Ä–µ–≥–∏–æ–Ω—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã, —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω—è—Ç–æ

#### 6. **VIP –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ª–∏–º–∏—Ç—ã**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ VIP —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π: `if (!user.isVip) throw '–¢–æ–ª—å–∫–æ –¥–ª—è VIP'`
- –õ–∏–º–∏—Ç—ã:
  - Free: 0 —Ä–µ–≥–∏–æ–Ω–æ–≤ (—Ç–æ–ª—å–∫–æ online –∫–∞—Ä—Ç–∞)
  - VIP: –¥–æ N —Ä–µ–≥–∏–æ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3-5 —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏–ª–∏ –¥–æ 500 –ú–ë)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ X –ú–ë –∏–∑ Y –ú–ë"

### –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **Backend**:
   - –°–æ–∑–¥–∞—Ç—å API endpoint –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ç–∞–π–ª–æ–≤ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
   - –ù–∞—Ä–µ–∑–∞—Ç—å –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–ª—ã (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫: OpenStreetMap, Yandex)
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å versioning –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–π–ª–æ–≤

2. **Frontend ‚Äî IndexedDB**:
   - –†–∞—Å—à–∏—Ä–∏—Ç—å StorageService: –¥–æ–±–∞–≤–∏—Ç—å ObjectStore `mapTiles` –∏ `downloadedRegions`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã `downloadRegion()`, `deleteRegion()`, `getDownloadedRegions()` —Å —Ä–µ–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π

3. **Frontend ‚Äî OfflineService**:
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ç–∞–π–ª–æ–≤ –±–∞—Ç—á–∞–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ resume
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

4. **Frontend ‚Äî UI**:
   - –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–ª–∞–π–Ω —Ä–µ–≥–∏–æ–Ω–∞–º–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –∏ Settings
   - –ü–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

5. **Frontend ‚Äî Map Facade**:
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OfflineOSMRenderer —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ —Ç–∞–π–ª–∞–º–∏ –∏–∑ IndexedDB
   - –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è online/offline

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–ª–µ–≤–∞—è)

```javascript
// ObjectStore: downloadedRegions
{
  regionId: "moscow",           // primary key
  name: "–ú–æ—Å–∫–≤–∞ –∏ –æ–±–ª–∞—Å—Ç—å",
  boundingBox: [55.4, 36.6, 56.2, 38.4],
  status: "completed",          // downloading|completed|failed
  totalSize: 256,               // –ú–ë
  downloadedSize: 256,          // –ú–ë
  totalTiles: 1024,
  downloadedTiles: 1024,
  tileCount: { z13: 64, z14: 256, z15: 704 },
  downloadedAt: "2026-02-04T10:00:00Z",
  updatedAt: "2026-02-04T10:05:00Z",
  version: "1.0"
}

// ObjectStore: mapTiles
{
  key: "moscow_15_20000_10000",
  value: {
    regionId: "moscow",
    z: 15,
    x: 20000,
    y: 10000,
    blob: <Blob>,               // PNG data
    downloadedAt: "2026-02-04T10:00:30Z"
  }
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- **–ü—Ä–æ—Ñ–∏–ª—å**: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –∑–∞–Ω–∏–º–∞–µ–º–æ–µ –º–µ—Å—Ç–æ
- **–ö–∞—Ä—Ç–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω —Ç–∞–π–ª–æ–≤ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏
- **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è**: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî –±–æ–Ω—É—Å XP –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ (–∫–≤–µ—Å—Ç/–¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –æ—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç—ã)
1. [High] Backend API –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∞–π–ª–æ–≤
2. [High] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è storageService –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å mapTiles
3. [High] –õ–æ–≥–∏–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ offlineService
4. [Medium] UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–∞–º–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
5. [Medium] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OfflineOSMRenderer —Å IndexedDB —Ç–∞–π–ª–∞–º–∏
6. [Low] VIP —Å–∏—Å—Ç–µ–º–∞ –∏ –ª–∏–º–∏—Ç—ã
7. [Low] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Ç–∞–π–ª–æ–≤

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
–í –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º README.md –Ω–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –æ—Ñ–ª–∞–π–Ω –∫–∞—Ä—Ç–∞ —Å –Ω–∞—Ä–µ–∑–∞–Ω–Ω—ã–º–∏ —Ç–∞–π–ª–∞–º–∏ ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞.

---
*–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —á–∏—Å—Ç–∫–∏/—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ï—Å–ª–∏ –∫–∞–∫–∞—è-—Ç–æ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚Äî –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ—ë –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —á–µ–∫-–ª–∏—Å—Ç –≤—ã—à–µ.*
