/* –û—Ä–∞–Ω–∂–µ–≤–∞—è —Ä–∞–º–∫–∞ –¢–û–õ–¨–ö–û –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ –º–µ–Ω—é –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ */
.custom-marker-popup.selected {
  border: 2px solid var(--state-favorite) !important;
  box-shadow: 0 0 12px 2px var(--state-favorite), 0 0 20px 4px rgba(255, 152, 0, 0.3) !important;
  background: #fffbe6;
  animation: glowing 2s ease-in-out infinite alternate;
} 

/* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–ø–∞–ø –≤—Å–µ–≥–¥–∞ —Å –±–µ–ª–æ–π —Ä–∞–º–∫–æ–π */
.custom-marker-popup:not(.selected) {
  border: 2px solid #ffffff !important;
  box-shadow: 0 4px 16px rgba(0,0,0,0.18) !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ø–∞–ø–æ–≤ */
.custom-marker-popup.selected .leaflet-popup-content-wrapper {
  border-radius: 8px !important;
}

.custom-marker-popup.selected .leaflet-popup-content {
  border-radius: 8px !important;
  margin: 0 !important;
}

@keyframes glowing {
  from {
    box-shadow: 0 0 12px 2px var(--state-favorite), 0 0 20px 4px rgba(255, 152, 0, 0.3);
  }
  to {
    box-shadow: 0 0 16px 3px var(--state-favorite), 0 0 30px 6px rgba(255, 152, 0, 0.5);
  }
}

/* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ–º z-index –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ–ø–∞–ø–æ–≤ */
.leaflet-popup {
  z-index: 1300 !important;
}

.leaflet-popup.selected {
  z-index: 1301 !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö Leaflet –ø–æ–ø–∞–ø–æ–≤ */
.leaflet-popup.selected .leaflet-popup-content-wrapper {
  border-radius: 8px !important;
}

.leaflet-popup.selected .leaflet-popup-content {
  border-radius: 8px !important;
  margin: 0 !important;
}

/* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –¥–ª—è –≤—Å–µ—Ö Leaflet –ø–æ–ø–∞–ø–æ–≤ */
.leaflet-popup-content-wrapper {
  border-radius: 8px !important;
}

.leaflet-popup-tip {
  border-radius: 2px;
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ø–∞–ø–æ–≤ */
.custom-marker-popup .leaflet-popup-content-wrapper {
  border-radius: 8px !important;
}

/* –£–±–∏—Ä–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã Leaflet –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–∫—Ä—É–≥–ª–µ–Ω–∏—è */
.leaflet-popup-content {
  margin: 0 !important;
  border-radius: 8px !important;
}

/* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –≤—Å–µ —É–≥–ª—ã –ø–æ–ø–∞–ø–∞ —Å–∫—Ä—É–≥–ª–µ–Ω—ã */
.leaflet-popup-content-wrapper,
.leaflet-popup-content {
  border-radius: 8px !important;
  overflow: hidden;
}

/* Force allow interactions inside popup (fixes overlay/drag layers blocking clicks) */
.leaflet-popup,
.leaflet-popup .leaflet-popup-content-wrapper,
.leaflet-popup .leaflet-popup-content,
.custom-marker-popup,
.custom-marker-popup * {
  pointer-events: auto !important;
}

/* Ensure popup pane is above possible map overlays */
.leaflet-popup {
  z-index: 99999 !important;
}

/* === –ù–û–í–´–ï –í–ò–ó–£–ê–õ–¨–ù–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø === */

/* üî• –û—Ä–∞–Ω–∂–µ–≤–∞—è —Ä–∞–º–∫–∞ - –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º (–≥–æ—Ç–æ–≤—ã –∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é) */
.marker-favorite,
.route-favorite,
.event-favorite {
  border: 2px solid var(--state-favorite) !important;
  box-shadow: 0 0 12px 2px var(--state-favorite), 0 0 20px 4px rgba(255, 152, 0, 0.3) !important;
  animation: favoriteGlowing 2s ease-in-out infinite alternate !important;
}

@keyframes favoriteGlowing {
  from {
    box-shadow: 0 0 12px 2px var(--state-favorite), 0 0 20px 4px rgba(255, 152, 0, 0.3);
  }
  to {
    box-shadow: 0 0 16px 3px var(--state-favorite), 0 0 30px 6px rgba(255, 152, 0, 0.5);
  }
}

/* ‚ú® –ù–µ–æ–Ω–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç - –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º */
.marker-user-modified,
.route-user-modified,
.event-user-modified {
  border: 2px solid var(--state-user-modified) !important;
  box-shadow: 0 0 15px 3px var(--state-user-modified), 0 0 25px 5px rgba(0, 255, 255, 0.4) !important;
  animation: neonGlowing 1.5s ease-in-out infinite alternate !important;
}

@keyframes neonGlowing {
  from {
    box-shadow: 0 0 15px 3px var(--state-user-modified), 0 0 25px 5px rgba(0, 255, 255, 0.4);
  }
  to {
    box-shadow: 0 0 20px 4px var(--state-user-modified), 0 0 35px 7px rgba(0, 255, 255, 0.6);
  }
}

/* üèÜ –ó–æ–ª–æ—Ç–∏—Å—Ç–∞—è —Ä–∞–º–∫–∞ - –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –±–ª–æ–≥–∞—Ö */
.marker-used-in-blogs,
.route-used-in-blogs,
.event-used-in-blogs {
  border: 2px solid var(--state-used-in-blog) !important;
  box-shadow: 0 0 12px 2px var(--state-used-in-blog), 0 0 20px 4px rgba(255, 215, 0, 0.3) !important;
  animation: goldGlowing 2.5s ease-in-out infinite alternate !important;
}

@keyframes goldGlowing {
  from {
    box-shadow: 0 0 12px 2px var(--state-used-in-blog), 0 0 20px 4px rgba(255, 215, 0, 0.3);
  }
  to {
    box-shadow: 0 0 18px 3px var(--state-used-in-blog), 0 0 30px 6px rgba(255, 215, 0, 0.5);
  }
} 

/* –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∑–æ–ª–æ—Ç–∏—Å—Ç–∞—è > –Ω–µ–æ–Ω–æ–≤–∞—è > –≥–æ—Ä—è—â–∞—è */
.marker-used-in-blogs.marker-user-modified,
.route-used-in-blogs.route-user-modified,
.event-used-in-blogs.event-user-modified {
  border: 2px solid var(--state-used-in-blog) !important; /* –ë—ã–ª–æ #ffd700 */
  box-shadow: 0 0 12px 2px var(--state-used-in-blog), 0 0 20px 4px rgba(255, 215, 0, 0.3) !important;
  animation: goldGlowing 2.5s ease-in-out infinite alternate !important;
}

.marker-used-in-blogs.marker-favorite,
.route-used-in-blogs.route-favorite,
.event-used-in-blogs.event-favorite {
  border: 2px solid var(--state-used-in-blog) !important; /* –ë—ã–ª–æ #ffd700 */
  box-shadow: 0 0 12px 2px var(--state-used-in-blog), 0 0 20px 4px rgba(255, 215, 0, 0.3) !important;
  animation: goldGlowing 2.5s ease-in-out infinite alternate !important;
}

.marker-user-modified.marker-favorite,
.route-user-modified.route-favorite,
.event-user-modified.event-favorite {
  border: 2px solid var(--state-favorite) !important; /* –ë—ã–ª–æ #ff9800 */
  box-shadow: 0 0 12px 2px var(--state-favorite), 0 0 20px 4px rgba(255, 152, 0, 0.3) !important;
  animation: favoriteGlowing 2s ease-in-out infinite alternate !important;
}

/* === –ö–õ–ê–°–¢–ï–†–´ –ú–ê–†–ö–ï–†–û–í === */
.marker-cluster-custom {
  color: #fff !important;
  border: 2px solid #fff;
  border-radius: 50% !important;
  width: 40px !important;
  height: 40px !important;
  display: flex !important;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
}

.marker-cluster-custom span {
  color: #fff !important;
  font-size: 1.2em;
}

/* === –ú–ê–†–ö–ï–†–´ –°–û–ë–´–¢–ò–ô === */
.event-marker-base {
  transition: transform 0.2s ease;
}

.event-marker-selected .event-marker-base {
  transform: scale(1.1);
}

@keyframes eventMarkerPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}